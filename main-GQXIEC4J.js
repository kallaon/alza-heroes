import{$ as M,A as T,B as Z,C as J,D as I,E as n,F as g,G as E,H as K,I as Q,J as U,K as X,M as ee,N as te,P as oe,Q as ie,R as re,S as ne,T as ae,U as se,V as me,W as le,X as ce,Z as pe,_ as de,a as B,aa as fe,b as W,ba as P,ca as _,da as D,e as w,g as p,h as N,i as $,j as d,k as f,l as q,m as G,n as a,o as m,p as j,q as H,r as Y,s as u,t as h,u as v,v as i,w as r,x as c,y,z as S}from"./chunk-R4PFJM3P.js";function _e(t,o){if(t&1&&(i(0,"div",2)(1,"div",4)(2,"a",5),q(),i(3,"svg",6)(4,"title"),n(5),r(),c(6,"rect",7),i(7,"text",8),n(8),r()()()()()),t&2){let e=o.$implicit;a(2),J("routerLink","/detail/",e.id,""),a(3),g(e.name),a(3),E(" ",e.name," ")}}function be(t,o){t&1&&(i(0,"div",3)(1,"div",9)(2,"h4",10),n(3,"No Heroes Found"),r(),i(4,"p"),n(5,"There are no heroes to display."),r()()())}var k=class t{constructor(o,e){this._heroService=o;this._toastService=e}heroes=[];_subscription=new B;ngOnInit(){this._getTopHeroes()}ngOnDestroy(){this._subscription.unsubscribe()}_getTopHeroes(){this._subscription=this._heroService.getHeroes().pipe(W(o=>o.slice(0,4))).subscribe({next:o=>this.heroes=o,error:o=>this._toastService.showToast(o.message||"Failed to fetch heroes","error")})}static \u0275fac=function(e){return new(e||t)(m(D),m(_))};static \u0275cmp=p({type:t,selectors:[["app-dashboard"]],decls:6,vars:1,consts:[[1,"text-center","mb-3"],[1,"row"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-4"],[1,"col"],[1,"card","text-center"],[3,"routerLink"],["role","img","width","100%","height","10rem","xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","card-img"],["width","100%","height","100%","fill","#868e96"],["x","50%","y","50%","fill","white","dy",".3em","text-anchor","middle","font-size","1.25rem"],[1,"alert","alert-warning"],[1,"alert-heading"]],template:function(e,s){e&1&&(i(0,"h2",0),n(1,"Top Heroes"),r(),i(2,"div",1),h(3,_e,9,4,"div",2,u,!1,be,6,0,"div",3),r()),e&2&&(a(3),v(s.heroes))},dependencies:[M],styles:[".card[_ngcontent-%COMP%]{transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 8px #0003;cursor:pointer}.card[_ngcontent-%COMP%]   .bd-placeholder-img[_ngcontent-%COMP%]{transition:opacity .3s}.card[_ngcontent-%COMP%]:hover   .bd-placeholder-img[_ngcontent-%COMP%]{opacity:.9}"]})};var O=class t{constructor(o){this.el=o}heroName="";ngOnInit(){this._displayHeroName()}_displayHeroName(){if(this.heroName.length>10){let e=`${this.heroName.substring(0,10)}...`;this.el.nativeElement.innerText=e,this.el.nativeElement.title=this.heroName}else this.el.nativeElement.innerText=this.heroName}static \u0275fac=function(e){return new(e||t)(m(G))};static \u0275dir=$({type:t,selectors:[["","appHeroName",""]],inputs:{heroName:[0,"appHeroName","heroName"]}})};function He(t,o){t&1&&(i(0,"small"),n(1,"Hero name is required."),r())}function ye(t,o){t&1&&(i(0,"small"),n(1,"Hero name must be at least 3 characters."),r())}function Se(t,o){t&1&&(i(0,"small"),n(1,"Hero name must be at most 20 characters."),r())}function Te(t,o){if(t&1&&(i(0,"div",9),j(1,He,2,0,"small")(2,ye,2,0,"small")(3,Se,2,0,"small"),r()),t&2){T();let e=I(7);a(),Y(e.errors!=null&&e.errors.required?1:e.errors!=null&&e.errors.minlength?2:e.errors!=null&&e.errors.maxlength?3:-1)}}function we(t,o){if(t&1){let e=y();i(0,"div",7)(1,"button",10),S("click",function(){let l=d(e).$implicit,C=T();return f(C.goToHeroDetail(l.id))}),c(2,"span",11),i(3,"span",12),n(4),r()()()}if(t&2){let e=o.$implicit;a(2),Z("appHeroName",e.name),a(2),g(e.id)}}function Ne(t,o){t&1&&(i(0,"div",8)(1,"h4",13),n(2,"No Heroes Found"),r(),i(3,"p"),n(4,"There are no heroes to display."),r()())}var F=class t{constructor(o,e,s){this._heroService=o;this._router=e;this._toastService=s}newHeroName="";heroes=[];ngOnInit(){this._getHeroes()}addHero(o){if(this.newHeroName.trim()){let e={id:this._generateHeroId(),name:this.newHeroName.trim()};this._heroService.addHero(e),this.newHeroName="",o.reset(),this._getHeroes()}}goToHeroDetail(o){this._router.navigate(["/detail",o])}_generateHeroId(){return this.heroes.length===0?1:this.heroes[this.heroes.length-1].id+1}_getHeroes(){this._heroService.getHeroes().subscribe({next:o=>this.heroes=o,error:o=>this._toastService.showToast(o.message||"Failed to fetch heroes","error")})}static \u0275fac=function(e){return new(e||t)(m(D),m(de),m(_))};static \u0275cmp=p({type:t,selectors:[["app-heroes"]],decls:18,vars:4,consts:[["heroName","ngModel"],[1,"text-center","mb-3"],[1,"mb-4"],[1,"input-group"],["type","text","placeholder","Enter hero name","aria-label","New Hero Name","minlength","3","maxlength","20","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","text-danger",4,"ngIf"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","mb-2"],[1,"alert","alert-warning"],[1,"text-danger"],["type","button",1,"btn","btn-secondary","w-100","d-flex","justify-content-between","align-items-center",3,"click"],[3,"appHeroName"],[1,"badge","bg-dark"],[1,"alert-heading"]],template:function(e,s){if(e&1){let l=y();i(0,"h2",1),n(1,"My heroes"),r(),i(2,"div",2)(3,"h5"),n(4,"Create New Hero"),r(),i(5,"div",3)(6,"input",4,0),U("ngModelChange",function(x){return d(l),Q(s.newHeroName,x)||(s.newHeroName=x),f(x)}),r(),i(8,"button",5),S("click",function(){d(l);let x=I(7);return f(s.addHero(x))}),n(9," Create New Hero "),r()(),j(10,Te,4,1,"div",6),r(),c(11,"hr"),i(12,"div")(13,"h5"),n(14,"Heroes"),r(),h(15,we,5,2,"div",7,u,!1,Ne,5,0,"div",8),r()}if(e&2){let l=I(7);a(6),K("ngModel",s.newHeroName),a(2),H("disabled",l.invalid),a(2),H("ngIf",l.invalid&&l.touched),a(5),v(s.heroes)}},dependencies:[te,re,ne,se,me,le,ae,O]})};var Ie=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"heroes",component:F},{path:"dashboard",component:k},{path:"detail",loadChildren:()=>import("./chunk-KW5KRDB7.js").then(t=>t.HeroDetailModule)}],L=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=N({type:t});static \u0275inj=w({imports:[P.forRoot(Ie),P]})};var Ee=(t,o,e,s)=>({"bg-success":t,"bg-danger":o,"bg-warning":e,"bg-info":s});function Me(t,o){if(t&1){let e=y();i(0,"div",1)(1,"div",2)(2,"div",3),n(3),r(),i(4,"button",4),S("click",function(){let l=d(e).$implicit,C=T();return f(C.removeToast(l.id))}),r()()()}if(t&2){let e=o.$implicit;H("ngClass",X(2,Ee,e.type==="success",e.type==="error",e.type==="warning",e.type==="info")),a(3),E(" ",e.message," ")}}var R=class t{constructor(o){this.toastService=o}toasts=[];ngOnInit(){this.toastService.toasts$.subscribe(o=>{this.toasts=o})}removeToast(o){this.toastService.dismissToast(o)}static \u0275fac=function(e){return new(e||t)(m(_))};static \u0275cmp=p({type:t,selectors:[["app-toast-container"]],decls:3,vars:0,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1100"],["role","alert","aria-atomic","true","aria-live","assertive",1,"toast","show","align-items-center","text-white",3,"ngClass"],[1,"d-flex"],[1,"toast-body"],["type","button","aria-label","Close",1,"btn-close","btn-close-white","me-2","m-auto",3,"click"]],template:function(e,s){e&1&&(i(0,"div",0),h(1,Me,5,7,"div",1,u),r()),e&2&&(a(),v(s.toasts))},dependencies:[ee]})};var V=class t{title="Tour of Heroes";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=p({type:t,selectors:[["app-root"]],decls:21,vars:1,consts:[[1,"container","mt-4"],[1,"text-center","mb-4"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light","rounded"],[1,"container-fluid"],[1,"navbar-brand"],["routerLink","/",1,"navbar-brand"],["src","https://cdn.alza.cz/Foto/imggalery/LandingPages/Logomanual/images/alza_cz.png","alt","Logo","height","40",1,"d-inline-block","align-text-top"],["data-bs-target","#navbarNav","data-bs-toggle","collapse","type","button","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["routerLink","/dashboard","routerLinkActive","active","ariaCurrentWhenActive","page",1,"nav-link"],["routerLink","/heroes","routerLinkActive","active","ariaCurrentWhenActive","page",1,"nav-link"],[1,"mt-4"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"h1",1),n(2),r(),i(3,"nav",2)(4,"div",3)(5,"div",4)(6,"a",5),c(7,"img",6),r()(),i(8,"button",7),c(9,"span",8),r(),i(10,"div",9)(11,"ul",10)(12,"li",11)(13,"a",12),n(14,"Dashboard"),r()(),i(15,"li",11)(16,"a",13),n(17,"Heroes"),r()()()()()(),i(18,"div",14),c(19,"app-toast-container")(20,"router-outlet"),r()()),e&2&&(a(2),g(s.title))},dependencies:[pe,M,fe,R]})};var A=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=N({type:t,bootstrap:[V]});static \u0275inj=w({imports:[ie,L,ce]})};oe().bootstrapModule(A,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
